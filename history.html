<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
        <title>Socialivo</title>
        <!-- CSS  -->
        <link rel="apple-touch-icon" sizes="57x57" href="/design/image/favicon/apple-touch-icon-57x57.png"/>
        <link rel="apple-touch-icon" sizes="60x60" href="/design/image/favicon/apple-touch-icon-60x60.png"/>
        <link rel="apple-touch-icon" sizes="72x72" href="/design/image/favicon/apple-touch-icon-72x72.png"/>
        <link rel="apple-touch-icon" sizes="76x76" href="/design/image/favicon/apple-touch-icon-76x76.png"/>
        <link rel="apple-touch-icon" sizes="114x114" href="/design/image/favicon/apple-touch-icon-114x114.png"/>
        <link rel="apple-touch-icon" sizes="120x120" href="/design/image/favicon/apple-touch-icon-120x120.png"/>
        <link rel="apple-touch-icon" sizes="144x144" href="/design/image/favicon/apple-touch-icon-144x144.png"/>
        <link rel="apple-touch-icon" sizes="152x152" href="/design/image/favicon/apple-touch-icon-152x152.png"/>
        <link rel="apple-touch-icon" sizes="180x180" href="/design/image/favicon/apple-touch-icon-180x180.png"/>
        <link rel="icon" type="image/png" href="/design/image/favicon/favicon-32x32.png" sizes="32x32"/>
        <link rel="icon" type="image/png" href="/design/image/favicon/favicon-194x194.png" sizes="194x194"/>
        <link rel="icon" type="image/png" href="/design/image/favicon/favicon-96x96.png" sizes="96x96"/>
        <link rel="icon" type="image/png" href="/design/image/favicon/android-chrome-192x192.png" sizes="192x192"/>
        <link rel="icon" type="image/png" href="/design/image/favicon/favicon-16x16.png" sizes="16x16"/>
        <link rel="manifest" href="/design/image/favicon/manifest.json"/>
        <link rel="mask-icon" href="/design/image/favicon/safari-pinned-tab.svg" color="#5bbad5 "/>
        <link rel="shortcut icon" href="/design/image/favicon/favicon.ico"/>
        <meta name="apple-mobile-web-app-title" content="Socialivo"/>
        <link href="design/css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="design/css/font-awesome.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="design/css/layout.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="design/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link href="design/css/joyride-2.1.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <!--  Scripts-->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="design/js/materialize.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js"></script>       
        <script src="design/js/bootstrap-datetimepicker.js"></script>
        <script src="design/js/jquery.selectBox.js"></script>
        <script src="design/js/prism.js"></script>
        <script src="design/js/init.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
        <script src="design/js/jquery.joyride-2.1.js"></script>
        <script src="design/js/modernizr.mq.js"></script>

        <script src="//cdn.firebase.com/js/client/2.2.9/firebase.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular-cookies.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/angularFire/1.1.3/angularfire.min.js"></script>
        <script src="js/rsvp.js"></script>
        <script src="js/geofire.js"></script>
        <script src="js/angular-materialize.js"></script>
        <script src="js/ChromePushManager.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyDqyBR4bu0xg0l9ypkVNs61agcZ14eAJN4"></script>

        <script src="js/app.js"></script>
        <script src="js/app/directives.js"></script>
        <script src="js/app/directives/warning.js"></script>
        <script src="js/app/directives/footer.js"></script>
        <script src="js/app/services.js"></script>
        <script src="js/app/services/appConfig.js"></script>
        <script src="js/app/services/dataProvider.js"></script>
        <script src="js/app/services/dialogs.js"></script>
        <script src="js/app/services/geoLocation.js"></script>
        <script src="js/app/services/localMeeting.js"></script>
        <script src="js/app/services/meetingInfo.js"></script>
        <script src="js/app/services/meeting.js"></script>
        <script src="js/app/services/modal.js"></script>
        <script src="js/app/services/user.js"></script>
        <script src="js/app/services/googleMap.js"></script>
        <script src="js/app/filters/customFilters.js"></script>
        <script src="js/app/services/session.js"></script>
        <script src="js/app/services/util.js"></script>
        <script src="js/app/services/history.js"></script>
        <script src="js/app/services/notification.js"></script>
        <script src="js/app/services/email.js"></script>
        <script src="js/app/services/category.js"></script>
        <script src="js/app/controllers.js"></script>
        <script src="js/app/controllers/authModal.js"></script>
        <script src="js/app/controllers/history.js"></script>
        <script src="js/app/controllers/userAccount.js"></script>
        <script src="js/app/controllers/snippet.js"></script>
    </head>
    <body>
        <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MC8MMV"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MC8MMV');</script>
<!-- End Google Tag Manager -->
        <div id="container" ng-app="mmh" ng-controller="HistoryController">
            <header>
                <nav id="header" class="top-nav">
                    <h1 id="logo"><a href="/">Socialivo</a><span id="logo-dot"></span></h1>
                    <span class="tagline">The WHO, WHEN, WHERE of WHAT's happening right now</span>
                    <div id="top-right" class="pull-right" ng-controller="UserAccountController">
                        <div class="notifications">
                            <a class="dropdown-button info on" href="#" data-activates="notifications-info" title="Notifications">
                                <span id="notification-icon-dot"></span><i class="icon notification-icon"></i><span class="alert-bubble" ng-show="countNotification" ng-bind="countNotification"></span>
                            </a>
                            <div id="notifications-info" class="dropdown-content">
                                <p class="notifLabel">Notifications</p>
                                <ul>
                                    <li ng-repeat="(key, notification) in notifications">
                                        <a class="notification-content" href="activity.html?act={{ notification.meetId }}" ng-bind-html="getNotificationText(notification)"></a>
                                        <a class="icon" title="Delete" ng-click="clearNotification(key, notification.id)"></a>
                                    </li>
                                    <li ng-click="clearAllNotification()" ng-show="notifications.length"><a>CLEAR ALL</a></li>
                                </ul>
                                <span class="icon arow"></span>
                            </div>
                        </div>
                        <div class="account button-span">
                            <div class="user-link" ng-if="!isAuthenticated">
                                    <a class="btn btn-flat waves-effect waves-ripple modal-trigger" ng-click="login()">
                                        <i class="fa fa-user"></i> Login/Signup
                                    </a>
                            </div>
                            <div ng-if="isAuthenticated">
                                <a class="dropdown-button info" href="javascript:void(0)" data-activates="account-info" data-hover="true" dropdown>
                                    <span class="thumb"><img ng-src="{{ user.getProfileImageURL() }}" alt=""></span>
                                    <span class="name">
                                        {{ user.fullName }}<i class="icon"></i>
                                    </span>
                                </a>
                                <div id="account-info" class="dropdown-content">
                                    <ul>
                                        <!--<li><a href="#none">Profile</a></li>-->
                                        <!--<li><a href="#none">Settings</a></li>-->
                                        <li><a ng-click="startTutorial()">Page tour</a></li>
                                        <li><a href="setting.html">Settings</a></li>
                                        <li><a href="history.html">History</a></li>
                                        <li><a ng-click="logout()">Logout</a></li>
                                    </ul>
                                    <span class="icon arow"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
                <div class="container"><a href="#" data-activates="nav-mobile" class="button-collapse top-nav waves-effect waves-light circle hide-on-large-only"><i class="mdi-navigation-menu"></i></a></div>
                <ul id="nav-mobile" class="side-nav fixed">
                    <li ng-class="currentPage == 1 ? 'active' : ''" id="home"><a href="index.html" class="waves-effect waves-ripple"><span class="icon icon-home"></span>Home</a></li>
                    <li ng-class="currentPage == 4 ? 'active' : ''"id="meet_me_here"><a href="meet_me_here.html" class="waves-effect waves-ripple"><span class="icon icon-history"></span>Meet Me Here</a></li>
                    <li ng-class="currentPage == 3 ? 'active' : ''" id="new_meet"><a href="create_new_activity.html" class="waves-effect waves-ripple"><span class="icon icon-new"></span>New Activity</a></li>
                    <li ng-class="currentPage == 2 ? 'active' : ''" id="meet" ><a class="waves-effect waves-ripple" ng-click="currentPage = 2"><span class="icon icon-invite"></span>Activities</a>
                        <ul class="subtab-left">
                            <li ng-repeat="meeting in meetingList" ng-if="isToday(meeting.createdDate)"  ng-class="(meeting.id == currentMeetingId) ? 'active' : ''">
                                <a ng-href="{{'/activity.html?act=' + meeting.id}}" class="waves-effect waves-ripple active">
                                    <i class="fa fa fa-angle-right"></i>
                                    {{getMeetingName(meeting, false)}}
                                </a>
                            </li>
                            <li ng-show="meetingList.$value === null" style="font-style: italic;">
                                No current activities
                            </li>
                        </ul>
                    </li>
                </ul>
            </header><!--//header-->
            <div id="contents">
                <warning></warning>
                <div class="row contents">
                    <div class="col l8 s12">
                        <div class="box-history" >
                            <h2 class="title-page"><span class="icon"></span>History</h2>
                            <div class="wrap" ng-if="history.length" ng-repeat="meetings in history">
                                <p class="date grey-text">{{ meetings[0].date }}</p>
                                <ul class="list" ng-repeat="meeting in meetings | orderBy : 'time' : true">   
                                    <li>
                                        <a class="btn red waves-effect waves-light right" ng-click="createActivity(meeting.id)">
                                            Create Activity
                                        </a>
                                        <h3 class="title">You "<span class="grey-text">{{ meeting.type || 'RSVPed' }}</span>" {{ meeting.type=='created' ? '' : 'on '}}meeting "<a ng-href="activity.html?act={{ meeting.id }}">{{ getMeetingName(meeting, false)}}</a>"</h3>
                                        <p ng-if="meeting.place">{{ meeting.place.categories[0][0]}} / {{ meeting.place.name}} / <span class="grey-text">{{ meeting.place.display_address || meeting.place.location.display_address}}</span></p>
                                        <p>{{formatTime(meeting.time)}}</p>
                                    </li>
                                </ul>
                                
                            </div>
                            <div class="btn-bottom center-align" ng-if="history.length" ng-hide="showedAll" ng-click="showAllHistory()"><a href="#none" class="btn red btn-large waves-effect waves-light">Show All</a></div>
                            <div class="wrap" ng-if="!history.length">
                                No history
                            </div>
                        </div>
                    </div>

                </div>
            </div><!--//contents-->
            <footer class="page-footer white"></footer><!--//footer-->
        </div>

        <!-- Tip Content -->
        <div class="loading-wrap" style="display:none"></div>
    </body>
</html>
