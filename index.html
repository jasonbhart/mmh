<!DOCTYPE HTML>
<html>
	<head>
		<title>Meet Me Here Prototype</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="//cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
		<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
                <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
                <script src="https://cdn.firebase.com/libs/angularfire/1.1.1/angularfire.min.js"></script>
		<script src="js/jquery.dropotron.min.js"></script>
		<script src="js/jquery.scrolly.min.js"></script>
		<script src="js/jquery.scrollgress.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<script src="js/app.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
	</head>
	<body>
	<script type="text/javascript">
//		// This is called with the results from from FB.getLoginStatus().
//                previousLoginStatus = null;
//		function statusChangeCallback(response) {
//			console.log('statusChangeCallback');
//			console.log(response);
//			// The response object is returned with a status field that lets the
//			// app know the current login status of the person.
//			// Full docs on the response object can be found in the documentation
//			// for FB.getLoginStatus().
//			if (response.status === 'connected') {
//                            // reload page after authentication
//                            if (previousLoginStatus != null && previousLoginStatus != 'connected') {
//                                var url = window.location.href;
//                                if (url.indexOf('?') != -1) {
//                                    if (!url.endsWith('&'))
//                                        url += '&';
//                                    
//                                    url += 'meet=' + meetId;
//                                }
//                                window.location = url;
//                            }
//                            // Logged into your app and Facebook.
//                            testAPI();
//			} else if (response.status === 'not_authorized') {
//				// The person is logged into Facebook, but not your app.
//				document.getElementById('status').innerHTML = 'Please log ' +
//				'into this app.';
//			} else {
//				// The person is not logged into Facebook, so we're not sure if
//				// they are logged into this app or not.
//				document.getElementById('status').innerHTML = 'Please log ' +
//				'into Facebook.';
//			}
//                        
//                        previousLoginStatus = response.status;
//		}
//
//		// This function is called when someone finishes with the Login
//		// Button.  See the onlogin handler attached to it in the sample
//		// code below.
//		function checkLoginState() {
//			FB.getLoginStatus(function(response) {
//				statusChangeCallback(response);
//			});
//		}
//
//		window.fbAsyncInit = function() {
//			FB.init({
//				appId      : '450586198440716',
//				cookie     : true,  // enable cookies to allow the server to access
//									// the session
//				xfbml      : true,  // parse social plugins on this page
//				version    : 'v2.2' // use version 2.2
//			});
//
//			// Now that we've initialized the JavaScript SDK, we call
//			// FB.getLoginStatus().  This function gets the state of the
//			// person visiting this page and can return one of three states to
//			// the callback you provide.  They can be:
//			//
//			// 1. Logged into your app ('connected')
//			// 2. Logged into Facebook, but not your app ('not_authorized')
//			// 3. Not logged into Facebook and can't tell if they are logged into
//			//    your app or not.
//			//
//			// These three cases are handled in the callback function.
//
//			FB.getLoginStatus(function(response) {
//				statusChangeCallback(response);
//			});
//		};
//
//		// Load the SDK asynchronously
//		(function(d, s, id) {
//			var js, fjs = d.getElementsByTagName(s)[0];
//			if (d.getElementById(id)) return;
//			js = d.createElement(s); js.id = id;
//			js.src = "//connect.facebook.net/en_US/sdk.js";
//			fjs.parentNode.insertBefore(js, fjs);
//		}(document, 'script', 'facebook-jssdk'));
//
//		// Here we run a very simple test of the Graph API after login is
//		// successful.  See statusChangeCallback() for when this call is made.
//		function testAPI() {
//			console.log('Welcome!  Fetching your information.... ');
//			FB.api('/me', function(response) {
//				console.log('Successful login for: ' + response.name);
////				document.getElementById('status').innerHTML =
////						'Logged in as: ' + response.name;
//				picUrl = '<img src="//graph.facebook.com/' + response.id + '/picture?width=100&height=100" alt="" />';
//				$("#userprofilepic").html(picUrl);
//				$("#fb-login-button").hide();
//				meetRef.push({
//					'user': response.id
//				})
//			});
//		}
	</script>
	<script type="text/javascript">
		var where = new Array();
		var when = ["6:00pm", "7:30pm", "8:00pm"];
		var suggestCount = 0;

	</script>
	<script type="text/javascript">
		var ref = new Firebase("https://radiant-heat-9175.firebaseio.com/meets");
		var meetRef = '';
		var userRef = '';

		$.urlParam = function(name) {
			var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
			if (results==null){
				return null;
			}
			else{
				return results[1] || 0;
			}
		};

		$(document).ready(function() {
			for (var i = 0, len = when.length; i < len; i++) {
				$("#whenlist").append('<li><a class="button alt" id="time' + (i + 1) + '">' + when[i] + '</a></li>');
			}


			$("body").on("click","#time1",function(e) {
				$(this).toggleClass('special');
				$(this).toggleClass('alt');
			});

			$("body").on("click","#time2",function(e) {
				$(this).toggleClass('special');
				$(this).toggleClass('alt');
			});

			$("body").on("click","#time3",function(e) {
				$(this).toggleClass('special');
				$(this).toggleClass('alt');
			});

			$("body").on("click","#time4",function(e) {
				$(this).toggleClass('special');
				$(this).toggleClass('alt');
			});

			$("body").on("click","#time5",function(e) {
				$(this).toggleClass('special');
				$(this).toggleClass('alt');
			});
		});
	</script>
		<!-- Header -->
			<header id="header">
				<h1 id="logo"><a href="index.html">Meet Me Here</a></h1>
				<nav id="nav">
					<ul>
						<li><a href="#">New Meet</a></li>
						<li><a href="#">Invite</a></li>
						<li><a href="#">History</a></li>
						<li><a href="#" class="button alt">Sign Up</a></li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper style1" ng-app="mmh">
				<div class="container box big bordered" ng-controller="main">
					<!--<header class="major special">-->
						<!--<h2>Meet Me Here</h2>-->
						<!--<p>Lorem ipsum dolor sit amet nullam id egestas urna aliquam</p>-->
					<!--</header>-->
					<section>
						<div id="fb-userid"></div>
					</section>
					<section>
                                                <div ng-repeat="record in selectionTable" ng-class="record.user.id == identity.id ? 'logged-user' : ''" class="user-places">
                                                    <div class="user-info">
                                                        <span>{{ record.user.name }}</span>
                                                        <div id="userprofilepic" ng-show="record.user.id">
                                                            <img ng-src="//graph.facebook.com/{{ record.user.id }}/picture?width=100&height=100" alt="" />
                                                        </div>
                                                    </div>
                                                    
                                                    <ul class="actions places" style="margin-bottom: 10px;">
                                                        <li ng-repeat="place in record.places">
                                                            <a class="button" ng-class="place.selectionId ? 'special' : 'alt'" ng-click="selectPlace(record.user, place)">
                                                                {{ place.suggestion.name }}
                                                            </a>
                                                        </li>
                                                    </ul>
                                                    <div style="clear: both"></div>
                                                </div>
					</section>
					<section>
						<ul class="actions" id="whenlist">
						</ul>
					</section>
					<section>
                                            <div ng-show="!identity.logged">
						<fb:login-button scope="public_profile,email" id="fb-login-button">
						</fb:login-button>
                                            </div>
						<div id="status" ng-show="identity.logged">Logged in as: {{ identity.name }}</div>
					</section>
					<section>
						<br clear="all" />
                                                <div id="share-data" ng-show="shareUrl">
                                                    <span style="font-size: 20px;">Share this via: <a ng-href="{{ shareUrl }}">{{ shareUrl }}</a></span>
                                                </div>
					</section>
					<section style="margin-top: 30px;">
						<div class="table-wrapper">
							<table>
                                                                <tbody ng-repeat="suggestion in suggestions">
                                                                <tr>
                                                                    <td>
                                                                        <a ng-href="{{ suggestion.url }}" target="_blank">{{ suggestion.name }}</a>
                                                                    </td>
                                                                    <td>
                                                                        <img ng-src="{{ suggestion.rating_url }}">
                                                                    </td>
                                                                    <td style="text-align: right;">
                                                                        <a class="button special small" ng-click="addSuggestion(suggestion)">Suggest</a>
                                                                    </td>
                                                                    </tr>
								</tbody>
							</table>
						</div>
					</section>
				</div>
			</section>

		<!-- Footer -->
			<div id="footer">
				<div class="container">
					<div class="row 200% uniform">
						<section class="4u 12u$(medium) 12u$(xsmall) footer-info">
							<h2>Concept</h2>
							<p>Meet Me Here allows you to actually get together instead of spending time deciding where to go. Someone will
							   undoubtedly put some slick marketing text here in the future.</p>
							<ul class="actions">
								<li><a href="#" class="button alt">Learn more</a></li>
							</ul>
						</section>
						<section class="4u 6u(medium) 12u$(xsmall)">
							<h3>Recent News</h3>
							<ul class="updates">
								<li>
									<p><a href="#">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Earum tenetur sequi eos porro minima laborum!</a></p>
									<span class="timestamp">Posted 2 hours ago</span>
								</li>
								<li>
									<p><a href="#">Perferendis deserunt, iure ipsum animi quidem molestiae esse quisquam rerum quas placeat.</a></p>
									<span class="timestamp">Posted 6 hours ago</span>
								</li>
								<li>
									<p><a href="#">Ex est veniam, ratione voluptas quidem eveniet accusantium impedit explicabo error, commodi.</a></p>
									<span class="timestamp">Posted 8 hours ago</span>
								</li>
							</ul>
						</section>
						<section class="4u$ 6u$(medium) 12u$(xsmall)">
							<h3>Contact Us</h3>
							<ul class="labeled-icons">
								<li>
									<h4 class="icon fa-home"><span class="label">Address</span></h4>
									440 N Wolfe Rd<br />
									Sunnyvale, CA 94085
								</li>
								<li>
									<h4 class="icon fa-phone"><span class="label">Phone</span></h4>
									(650) 669-9116
								</li>
								<li>
									<h4 class="icon fa-envelope"><span class="label">Email</span></h4>
									<a href="#">hello@nonameyet.com</a>
								</li>
								<li>
									<h4 class="icon fa-facebook"><span class="label">Facebook</span></h4>
									<a href="#">facebook.com/noname</a>
								</li>
								<li>
									<h4 class="icon fa-twitter"><span class="label">Twitter</span></h4>
									<a href="#">twitter.com/noname</a>
								</li>
							</ul>
						</section>
					</div>
				</div>
				<div class="copyright">
					&copy; Whatever Our Name Will Be. All rights reserved.
				</div>
			</div>

	</body>
</html>